version: 2

macros:
  - name: get_ltc_lcs_observations
    description: >
      Retrieves observations filtered by LTC/LCS valueset IDs or friendly names.
      Joins to expanded concepts and valuesets reference data.


      Usage:

      ```sql

      {{ get_ltc_lcs_observations('on_dm_reg_priority_group_3b_mrb_vs3') }}

      {{ get_ltc_lcs_observations('on_ckd_reg_acr_latest,on_ckd_reg_egfr_latest') }}

      ```
    arguments:
      - name: valuesets
        type: string
        description: >
          Comma-separated valueset IDs or friendly names to filter by.
          Can be passed as 'VS001,VS002' or "'VS001','VS002'"
