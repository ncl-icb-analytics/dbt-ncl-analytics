version: 2

models:
  - name: inclusion_cohort
    description: Patients eligible for C-LTCS based on multimorbidity and 
      outpatient activity. One row per patient with eligibility flag.
    config:
      meta:
        owner:
          name: Emily Baldwin
    columns:
      - name: patient_id
        data_type: number
        description: "Unique patient identifier from commissioning data [sk_patient_id]"
        data_tests:
          - unique:
              config:
                severity: warn
                warn_if: ">10"
          - not_null

      - name: reid_key
        data_type: varchar
        description: "Unique patient identified for LDS re-identification service
          [hx_flake]"

      - name: olids_id
        data_type: varchar
        description: "Unique patient identified from OLIDS data [person_id]"

      - name: practice_code
        data_type: varchar
        description: "Current registered GP practice ODS code"

      - name: practice_name
        data_type: varchar
        description: "Current registered GP practice name"

      - name: pcn_code
        data_type: varchar
        description: "Current registered GP practice PCN code"

      - name: pcn_name
        data_type: varchar
        description: "Current registered GP practice PCN name"

      - name: main_language
        data_type: varchar
        description: "Patient primary spoken language"

      - name: age
        data_type: number
        description: "Patient age in years"

      - name: gender
        data_type: varchar
        description: "Patient gender"

      - name: ethnicity_category
        data_type: varchar
        description: "Patient ethnicity category"

      - name: eligible
        data_type: number
        description: "Flag for eligibility for inclusion in the C-LTCS cohort (1=eligible,
          0=not eligible)"
