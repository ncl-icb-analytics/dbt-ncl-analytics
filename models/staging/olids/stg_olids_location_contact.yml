version: 2
models:
- name: stg_olids_location_contact
  description: Contact details for healthcare locations. Deduplicated by id and filtered
    to exclude deleted records.
  columns:
  - name: id
    description: Primary key - unique identifier for this location contact
    tests:
    - unique
    - not_null
  - name: location_id
    description: Foreign key to location.id
  - name: is_primary_contact
    description: Boolean indicating if this is the primary contact method for the
      location
  - name: contact_type
    description: Type of contact (phone, email, fax, etc.)
  - name: contact_type_concept_id
    description: Foreign key to concept.id - standardized contact type
  - name: value
    description: Contact value (phone number, email address, etc.)
  - name: lds_id
    description: LDS system identifier
  - name: lds_datetime_data_acquired
    description: Datetime when data was acquired by LDS
  - name: lds_initial_data_received_date
    description: Date when data was initially received by LDS
  - name: lds_start_date_time
    description: LDS datetime stamp from which the record version was correct - used
      for deduplication to get the latest record
  - name: lds_is_deleted
    description: Deletion flag - records with TRUE are filtered out in this staging
      layer
  - name: lds_record_id
    description: LDS assigned unique identifier for the source record version
  tests:
  - dbt_expectations.expect_table_row_count_to_be_between:
      min_value: 1
