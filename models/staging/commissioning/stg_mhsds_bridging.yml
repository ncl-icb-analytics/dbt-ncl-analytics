version: 2
models:
  - name: stg_mhsds_bridging
    description: Bridging table linking MHSDS person identifiers to 
      Pseudonymised NHS numbers
    config:
      meta:
        owner:
          name: Jessica Roberts
    columns:
      - name: person_id
        description: MHSDS person identifier
        tests:
          - unique
          - not_null
      - name: sk_patient_id
        description: Pseudonymised NHS number (surrogate key for patient)
    tests:
      - dbt_expectations.expect_table_row_count_to_be_between:
          min_value: 1
