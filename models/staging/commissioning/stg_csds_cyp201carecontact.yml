version: 2
models:
- name: stg_csds_cyp201carecontact
  description: CSDS CYP care contacts (deduplicated)
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
        - unique_service_request_identifier
        - unique_care_contact_identifier
  - dbt_expectations.expect_table_row_count_to_be_between:
      min_value: 1
  columns:
  - name: unique_service_request_identifier
    description: Service request identifier (FK to referral)
    tests:
    - not_null
  - name: person_id
    description: CSDS person identifier
  - name: unique_care_contact_identifier
    description: unique identifier within a given service request
    tests:
    - not_null
  - name: care_contact_date
    description: Date of care contact
  - name: activity_location_type_code
    description: Code for type of location where activity took place
  - name: attendance_status
    description: Attendance status (attended, DNA, etc.)