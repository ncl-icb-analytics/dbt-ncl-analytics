version: 2
models:
- name: stg_pds_pds_person
  description: Personal Demographics Service person demographics
  tests:
  - dbt_utils.unique_combination_of_columns:
      combination_of_columns:
      - row_id
      - sk_patient_id
  columns:
  - name: row_id
    description: Row identifier
    tests:
    - not_null
  - name: sk_patient_id
    description: Surrogate key patient identifier (pseudonymised NHS number)
    tests:
    - not_null
  - name: year_month_of_birth
    description: Year and month of birth
  - name: gender
    description: Gender
  - name: date_of_death
    description: Date of death
  - name: death_status
    description: Death status indicator
  - name: preferred_language
    description: Preferred language
  - name: interpreter_required
    description: Interpreter required indicator
  - name: person_business_effective_from_date
    description: Business effective from date
  - name: person_business_effective_to_date
    description: Business effective to date
