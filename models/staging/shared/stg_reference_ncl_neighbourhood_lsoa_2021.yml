version: 2
models:
  - name: stg_reference_ncl_neighbourhood_lsoa_2021
    description: LSOA 2021 to NCL neighbourhood mapping
    config:
      meta:
        owner:
          name: EddieDavison92
    columns:
      - name: lsoa_2021_code
        description: Primary key - LSOA 2021 code
        tests:
          - unique
          - not_null
      - name: lsoa_2021_name
        description: LSOA 2021 name
      - name: neighbourhood_code
        description: NCL neighbourhood code
        tests:
          - not_null
      - name: neighbourhood_name
        description: NCL neighbourhood name
      - name: start_date
        description: Mapping effective start date
    tests:
      - dbt_expectations.expect_table_row_count_to_be_between:
          min_value: 1
