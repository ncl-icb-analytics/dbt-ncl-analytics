version: 2
models:
  - name: stg_reference_lookup_ncl_gp_practice
    description: GP practice reference data from lookup with geography and list 
      size source information
    config:
      meta:
        owner:
          name: Jake Kealey
    columns:
      - name: sk_organisation_id
        description: Surrogate key for organisation / practice
        tests:
          - unique
          - not_null
      - name: gp_practice_code
        description: Primary key - GP practice code
        tests:
          - unique
          - not_null
      - name: practice_name
        description: Full GP practice name
      - name: practice_name_short
        description: Short name for GP practice
      - name: borough
        description: Borough where practice is located
      - name: pcn_code
        description: Primary Care Network code
      - name: pcn_name
        description: Primary Care Network name
      - name: neighbourhood_code
        description: NCL neighbourhood code
      - name: neighbourhood_name
        description: NCL neighbourhood name
    tests:
      - dbt_expectations.expect_table_row_count_to_be_between:
          min_value: 1
