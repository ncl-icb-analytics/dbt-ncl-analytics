models:
  - name: int_ltc_lcs_cvd_observations
    description: 'Cardiovascular disease-relevant observations for Long Term Conditions
      case finding measures.

      One row per clinical observation including QRISK2 10-year scores, non-HDL cholesterol
      measurements, statin allergy/adverse reactions, contraindications, and clinical
      decisions using cluster IDs: QRISK2_10YEAR, NON_HDL_CHOLESTEROL, STATIN_ALLERGY_ADVERSE_REACTION,
      STATIN_NOT_INDICATED, STATINDEC_COD.'
    config:
      meta:
        owner:
          name: EddieDavison92
    tests:
      - dbt_utils.at_least_one:
          column_name: person_id
      - cluster_ids_exist:
          cluster_ids: QRISK2_10YEAR, NON_HDL_CHOLESTEROL, 
            STATIN_ALLERGY_ADVERSE_REACTION, STATIN_NOT_INDICATED, STATINDEC_COD
    columns:
      - name: person_id
        tests:
          - not_null
