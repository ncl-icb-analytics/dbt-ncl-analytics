models:
  - name: int_ltc_lcs_htn_observations
    description: 'Hypertension-relevant observations for Long Term Conditions case
      finding measures including blood pressure measurements.

      One row per clinical observation covering clinic, home, and ABPM blood pressure
      events with systolic/diastolic pairing, plus eGFR, BMI, BSA, and cardiovascular
      complications using cluster IDs: HYPERTENSION_BP_CLINIC, HYPERTENSION_BP_HOME,
      HYPERTENSION_BP_ABPM, HYPERTENSION_EGFR, HYPERTENSION_BMI, HYPERTENSION_BSA,
      HYPERTENSION_MYOCARDIAL, HYPERTENSION_CEREBRAL, HYPERTENSION_CLAUDICATION, HYPERTENSION_DIABETES.'
    config:
      meta:
        owner:
          name: EddieDavison92
    tests:
      - dbt_utils.at_least_one:
          column_name: person_id
      - cluster_ids_exist:
          cluster_ids: 
            HYPERTENSION_EGFR,HYPERTENSION_BMI,HYPERTENSION_BSA,HYPERTENSION_MYOCARDIAL,HYPERTENSION_CEREBRAL,HYPERTENSION_CLAUDICATION,HYPERTENSION_DIABETES
    columns:
      - name: person_id
        tests:
          - not_null
