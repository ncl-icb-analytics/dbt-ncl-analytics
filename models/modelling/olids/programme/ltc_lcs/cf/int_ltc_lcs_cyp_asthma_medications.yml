version: 2
models:
  - name: int_ltc_lcs_cyp_asthma_medications
    description: 'Children and young people asthma-relevant medications for Long Term
      Conditions case finding measures.

      One row per medication order including asthma medications, prednisolone (oral
      steroids), and montelukast (leukotriene receptor antagonist) using cluster IDs:
      ASTHMA_MEDICATIONS, ASTHMA_PREDNISOLONE, MONTELUKAST_MEDICATIONS.'
    config:
      meta:
        owner:
          name: EddieDavison92
    tests:
      - dbt_utils.at_least_one:
          column_name: person_id
      - cluster_ids_exist:
          cluster_ids: 
            ASTHMA_MEDICATIONS,ASTHMA_PREDNISOLONE,MONTELUKAST_MEDICATIONS
    columns:
      - name: person_id
        tests:
          - not_null
