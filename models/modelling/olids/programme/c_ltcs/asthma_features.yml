version: 2

models:
  - name: asthma_features
    description: >
      Feature table containing person-level flags identifying gaps
      between asthma diagnosis, respiratory testing, and asthma control testing.
    columns:
      - name: person_id
        description: Unique identifier for a person
        tests:
          - not_null
          - unique

      - name: testing_no_diagnosis
        description: >
          True if the person has respiratory testing but no asthma diagnosis
          since 2023-01-01

      - name: diagnosis_no_testing
        description: >
          True if the person has an asthma diagnosis but no respiratory testing
          since 2023-01-01

      - name: diagnosis_no_act
        description: >
          True if the person has an asthma diagnosis but no asthma control test
          since 2023-01-01

      - name: salbutamol_only
        description: >
          True if the person has been prescribed only salbutamol inhalers but
          no other asthma inhalers since 2023-01-01