
models:
  - name: int_person_pds_ncl_population_flags
    description: >
      Flags indicating whether a patient belongs to the current NCL registered or
      resident population
      based on PDS data
    config:
      meta:
        owner:
          name: Jake Kealey
    columns:
      - name: sk_patient_id
        description: Surrogate key for patient
        data_tests:
          - not_null
          - unique

      - name: flag_current_ncl_registered
        description: >
          Flag indicating if patient is part of current NCL registered population.
          True when patient is registered with an active NCL GP practice, has no record
          of death,
          and registration has not been marked as removed.

      - name: flag_current_ncl_residence
        description: >
          Flag indicating if patient is part of current NCL resident population.
          True when patient's residence LSOA is in NCL, has no record of death,
          and residence record is currently active.
