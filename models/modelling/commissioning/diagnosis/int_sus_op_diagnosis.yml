version: 2

models:
  - name: int_sus_op_diagnosis
    description: "ICD-10 diagnosis codes associated with SUS outpatient records. For
      use in secondary care diagnosis table and phenolab"
    config:
      meta:
        owner:
          name: Emily Baldwin
    columns:
      - name: diagnosis_id
        data_type: number
        description: "Unique ID for each outpatient diagnosis record"
        data_tests:
          - unique
          - not_null

      - name: sk_patient_id
        data_type: varchar
        description: "Common commissioning patient identifier"

      - name: visit_occurrence_id
        data_type: number
        description: "Primary key for appointment within SUS"

      - name: visit_occurrence_type
        data_type: varchar
        description: ""

      - name: icd_id
        data_type: number
        description: ""

      - name: rownumber_id
        data_type: number
        description: ""

      - name: organisation_id
        data_type: varchar
        description: ""

      - name: organisation_name
        data_type: varchar
        description: ""

      - name: site_id
        data_type: varchar
        description: ""

      - name: site_name
        data_type: varchar
        description: ""

      - name: activity_date
        data_type: timestamp_ntz
        description: ""

      - name: source_concept_code
        data_type: varchar
        description: ""

      - name: concept_code
        data_type: varchar
        description: ""

      - name: concept_name
        data_type: varchar
        description: ""

      - name: concept_vocabulary
        data_type: varchar
        description: ""
