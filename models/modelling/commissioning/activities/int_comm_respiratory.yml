version: 2

models:
  - name: int_comm_respiratory
    description: > 
      Warning: In development. Incomplete logic.
      Activities considered respiratory-related for commissioning analysis. 
      Includes encounters from A&E, admitted patient care, and outpatient settings that match respiratory-related diagnoses, procedures, or HRG codes. 
    config:
      meta:
        owner:
          name: Emily Baldwin
    columns:
      - name: visit_occurrence_id
        data_type: number
        description: "Unique identifier for the visit occurrence."
        data_tests:
          - unique:
              config:
                severity: error
                error_if: ">100"
                warn_if: ">10"
          - not_null

      - name: respiratory_encounter
        data_type: boolean
        description: "Flag indicating whether the encounter is related to respiratory issues. Always true for records in this table."
