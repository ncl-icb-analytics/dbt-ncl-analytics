version: 2
models:
  - name: int_cervical_screening_all
    description: 'NHS cervical screening programme observations from clinical records.

      One row per cervical screening observation using SMEAR_COD, CSPU_COD, CSDEC_COD, and CSPCAINVITE_COD clusters for core programme tracking.'
    tests:
      - cluster_ids_exist:
          arguments:
            cluster_ids: SMEAR_COD,CSPU_COD,CSDEC_COD,CSPCAINVITE_COD
    columns:
      - name: id
        description: 'Unique identifier for the observation'
      - name: person_id
        description: 'Unique identifier for the person'
      - name: clinical_effective_date
        description: 'Date when the screening observation was recorded'
      - name: concept_code
        description: 'Mapped clinical concept code'
      - name: concept_display
        description: 'Mapped clinical concept display text'
      - name: source_cluster_id
        description: 'QOF cluster identifier (SMEAR_COD, CSPU_COD, CSDEC_COD, CSPCAINVITE_COD)'
      - name: screening_observation_type
        description: 'Type of screening observation based on cluster'
      - name: is_completed_screening
        description: 'Flag indicating if this is a completed screening (SMEAR_COD)'
      - name: is_unsuitable_screening
        description: 'Flag indicating if person is unsuitable for screening (CSPU_COD)'
      - name: is_declined_screening
        description: 'Flag indicating if screening was declined (CSDEC_COD)'
      - name: is_non_response_screening
        description: 'Flag indicating non-response to invitations (CSPCAINVITE_COD)'