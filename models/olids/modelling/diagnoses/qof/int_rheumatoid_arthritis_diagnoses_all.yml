version: 2
models:
  - name: int_rheumatoid_arthritis_diagnoses_all
    description: 'Rheumatoid arthritis diagnosis observations for QOF register data collection and inflammatory arthritis care pathway management.

      One row per rheumatoid arthritis diagnosis observation using RARTH_COD cluster with lifelong condition tracking and no resolution codes.'
    columns:
      - name: id
        description: 'Unique identifier for the clinical observation'

      - name: person_id
        description: 'Patient identifier'

      - name: clinical_effective_date
        description: 'Date when rheumatoid arthritis diagnosis was clinically effective'

      - name: concept_code
        description: 'Clinical code for rheumatoid arthritis diagnosis'

      - name: concept_display
        description: 'Human-readable description of the RA clinical code'

      - name: source_cluster_id
        description: 'QOF cluster identifier (RARTH_COD)'

      - name: is_diagnosis_code
        description: 'Flag indicating rheumatoid arthritis diagnosis code (RARTH_COD cluster)'

      - name: ra_observation_type
        description: 'Categorised RA observation type (Rheumatoid Arthritis Diagnosis)'

    tests:
      - cluster_ids_exist:
          cluster_ids: RARTH_COD
