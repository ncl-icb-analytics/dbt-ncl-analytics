version: 2
models:
  - name: fct_person_stroke_tia_register
    description: 'QOF stroke and TIA register for patients with stroke or transient ischaemic attack history.

      One row per person with STIA_COD present and not resolved by STIARES_COD (lifelong condition for secondary prevention).'
    
    config:
      meta:
        indicator:
          id: "STIA001"
          type: "CONDITION"
          category: "LTC"
          clinical_domain: "Cardiovascular"
          name_short: "Stroke and TIA"
          description_short: "QOF stroke and TIA register"
          description_long: >
            Stroke and transient ischaemic attack diagnosed using QOF criteria: Active stroke 
            or TIA diagnosis where latest stroke/TIA code is more recent than any resolution 
            code. Considered a lifelong condition for secondary prevention monitoring. Used 
            for cardiovascular risk management and secondary prevention medication monitoring. 
            Maps to QOF indicator STIA001 (Stroke/TIA Register). Uses STIA_COD for diagnosis 
            codes and STIARES_COD for resolution codes.
          is_qof: true
          qof_indicator: "STIA001"
          source_column: "is_on_register"
          usage_contexts:
            - "POPULATION_HEALTH_NEEDS_DASHBOARD"
            - "QOF"
          code_clusters:
            - cluster_id: "STIA_COD"
              category: "INCLUSION"
            - cluster_id: "STIARES_COD"
              category: "RESOLUTION"
