version: 2
models:
  - name: fct_person_cerebral_palsy_register
    description: 'Cerebral palsy register for patients with cerebral palsy diagnosis.

      One row per person with CEREBRALP_COD present (non-QOF).'

    tests:
      - dbt_utils.at_least_one:
          column_name: person_id

    config:
      meta:
        indicator:
          id: "CEREBRAL_PALSY"
          type: "CONDITION"
          category: "LTC"
          clinical_domain: "Neurology"
          name_short: "Cerebral Palsy"
          description_short: "Cerebral palsy register (non-QOF)"
          description_long: >
            Cerebral palsy register for persons with cerebral palsy diagnosis.  Includes
            active patients with cerebral palsy diagnosis using CEREBRALP_COD  cluster
            codes. No age restrictions or resolution codes applied. Used for  neurological
            care pathway monitoring, multidisciplinary team coordination,  support
            services planning, and mobility and function support. Lifelong  neurological
            condition requiring ongoing care and support throughout life.
          is_qof: false
          source_column: "is_on_register"
          sort_order: "COND_NEURO_CEREBRALPALSY"
          usage_contexts:
            - "POPULATION_HEALTH_NEEDS_DASHBOARD"
          code_clusters:
            - cluster_id: "CEREBRALP_COD"
              category: "INCLUSION"

        owner:
          name: Eddie Davison
    columns:
      - name: person_id
        description: Unique identifier for the person
        tests:
          - unique
          - not_null
