models:
  - name: dq_cholesterol_issues
    description: 'Data quality issues in cholesterol measurements requiring clinical review.

      Quality Criteria:

      • Valid range: 0.5-20 mmol/L (physiologically plausible values)

      • Extreme outliers: >15 mmol/L (require clinical validation)

      • Date validation: Missing or future dates

      Purpose: Supports cholesterol data validation and clinical review of extreme values.'
    
    columns:
      - name: person_id
        description: Unique person identifier
        
      - name: id
        description: Observation record identifier
        
      - name: clinical_effective_date
        description: Date of cholesterol measurement
        
      - name: cholesterol_value
        description: Cholesterol measurement value (mmol/L)
        
      - name: result_unit_display
        description: Unit of measurement
        
      - name: concept_code
        description: Concept code for cholesterol measurement
        
      - name: concept_display
        description: Concept display name
        
      - name: source_cluster_id
        description: Source cluster identifier
        
      - name: is_cholesterol_out_of_range
        description: Whether cholesterol is outside valid range (0.5-20 mmol/L)
        
      - name: is_date_missing
        description: Whether clinical effective date is missing
        
      - name: is_future_date
        description: Whether measurement date is in the future
        
      - name: is_extreme_outlier
        description: Whether cholesterol is an extreme outlier (>15 mmol/L)
    
    tests:
      - cluster_ids_exist:
          cluster_ids: CHOL2_COD
