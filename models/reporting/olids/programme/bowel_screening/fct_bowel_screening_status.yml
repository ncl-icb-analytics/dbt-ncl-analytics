version: 2
models:
  - name: fct_bowel_screening_status
    description: 'Bowel screening programme status for people aged 50-74 years only.
      Simplified person-level view focusing on core programme monitoring with screening
      intervals, compliance status and coverage metrics. Only includes people within
      the eligible screening age range.'
    config:
      meta:
        owner:
          name: KateHomer55
    columns:
      - name: person_id
        description: 'Unique identifier for the person'
        tests:
          - not_null
          - unique
      - name: current_age
        description: 'Current age of the person in years'
      - name: is_screening_eligible
        description: 'Flag indicating if person is eligible for screening (age 50-74)'
      - name: screening_interval_years
        description: 'Target screening interval 2 years for bowel screening'
      - name: programme_status
        description: 'Overall programme compliance status (Up to Date, Overdue, Never
          Screened)'
      - name: latest_screening_type
        description: 'Type of the most recent screening observation'
      - name: latest_screening_date
        description: 'Date of the most recent screening observation'
      - name: latest_completed_date
        description: 'Date of the most recent completed screening (COLCANSCREV_COD,
          COLCANSCR_COD)'
      - name: next_screening_due_date
        description: 'Calculated next screening due date based on interval'
      - name: days_overdue
        description: 'Number of days overdue for screening (null if not overdue)'
      - name: never_screened
        description: 'Flag indicating person has never had a completed screening'
      - name: latest_is_completed
        description: 'Flag indicating if latest observation is a completed screening'
      # - name: latest_is_unsuitable
      #   description: 'Flag indicating if latest observation marks person as unsuitable'
      - name: latest_is_declined
        description: 'Flag indicating if latest observation is a declined screening'
      # - name: latest_is_non_response
      #   description: 'Flag indicating if latest observation is non-response to invitations'
      - name: total_completed_screenings
        description: 'Total count of completed screening observations'
      # - name: total_unsuitable_records
      #   description: 'Total count of unsuitable status records'
      - name: total_declined_records
        description: 'Total count of declined screening records'
      # - name: total_non_response_records
      #   description: 'Total count of non-response to invitation records'

