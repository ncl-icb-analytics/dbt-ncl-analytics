version: 2
models:
  - name: dim_ltc_lcs_cf_htn_62
    description: 'Case finding for stage 2 hypertension.

      Clinic BP ≥160 systolic or ≥100 diastolic, home/ABPM ≥150 systolic or ≥95
      diastolic. Excludes patients in HTN_61 (severe hypertension).

      One row per person with latest blood pressure readings meeting stage 2 criteria.'
    config:
      meta:
        indicator:
          id: "LTC_LCS_CF_HTN_62"
          type: "CASE_FINDING"
          category: "HTN"
          clinical_domain: "Hypertension Case Finding"
          name_short: "HTN_62: BP ≥160/100 or home ≥150/95"
          description_short: "Clinic BP ≥160/100 or home/ABPM ≥150/95"
          description_long: >
            Clinic BP ≥160/100 mmHg or home/ABPM ≥150/95 mmHg.
            Excludes HTN_61.
          is_qof: false
          source_column: "person_id"
          sort_order: "LTC_LCS_HTN_62"
          usage_contexts:
            - "LTC_LCS_DASHBOARD"
            - "CASE_FINDING_PROGRAMME"
          code_clusters:
            - cluster_id: "BLOOD_PRESSURE_CLINIC"
              category: "INCLUSION"
            - cluster_id: "BLOOD_PRESSURE_HOME_ABPM"
              category: "INCLUSION"
            - cluster_id: "HYPERTENSION_REGISTER_CODES"
              category: "EXCLUSION"
          thresholds:
            - population_group: "ALL_ADULTS"
              threshold_type: "CLINIC_SYSTOLIC_BP"
              threshold_value: "160"
              threshold_operator: "GREATER_THAN_OR_EQUAL"
              threshold_unit: "mmHg"
              description: "Clinic systolic BP ≥160 mmHg (stage 2)"
              sort_order: 1
            - population_group: "ALL_ADULTS"
              threshold_type: "CLINIC_DIASTOLIC_BP"
              threshold_value: "100"
              threshold_operator: "GREATER_THAN_OR_EQUAL"
              threshold_unit: "mmHg"
              description: "Clinic diastolic BP ≥100 mmHg (stage 2)"
              sort_order: 2
            - population_group: "ALL_ADULTS"
              threshold_type: "HOME_ABPM_SYSTOLIC_BP"
              threshold_value: "150"
              threshold_operator: "GREATER_THAN_OR_EQUAL"
              threshold_unit: "mmHg"
              description: "Home/ABPM systolic BP ≥150 mmHg (stage 2)"
              sort_order: 3
            - population_group: "ALL_ADULTS"
              threshold_type: "HOME_ABPM_DIASTOLIC_BP"
              threshold_value: "95"
              threshold_operator: "GREATER_THAN_OR_EQUAL"
              threshold_unit: "mmHg"
              description: "Home/ABPM diastolic BP ≥95 mmHg (stage 2)"
              sort_order: 4
        owner:
          name: EddieDavison92
