version: 2
models:
  - name: dim_ltc_lcs_cf_af_62
    description: 'AF case finding for patients 65+ without recent pulse check.

      Identifies patients aged 65+ with no pulse rate/rhythm check in last year.

      One row per person aged 65+ without pulse check in last 12 months.'

    config:
      meta:
        indicator:
          id: "LTC_LCS_CF_AF_62"
          type: "CASE_FINDING"
          category: "AF"
          clinical_domain: "Cardiovascular Case Finding"
          name_short: "65+ no pulse check"
          description_short: "Patients 65+ without pulse check in last year"
          description_long: >
            Age 65+, no pulse rate/rhythm check in last year.
          is_qof: false
          source_column: "person_id"
          sort_order: "LTC_LCS_AF_62"
          usage_contexts:
            - "LTC_LCS_DASHBOARD"
            - "CASE_FINDING_PROGRAMME"
          code_clusters:
            - cluster_id: "LCS_PULSE_RATE"
              category: "MONITORING"
              time_window: "12_MONTHS"
            - cluster_id: "LCS_PULSE_RHYTHM"
              category: "MONITORING"
              time_window: "12_MONTHS"
            - cluster_id: "ATRIAL_FIBRILLATION"
              category: "EXCLUSION"
            - cluster_id: "ATRIAL_FLUTTER"
              category: "EXCLUSION"
          thresholds:
            - population_group: "OLDER_ADULTS"
              threshold_type: "AGE_ELIGIBILITY"
              threshold_value: "65"
              threshold_operator: "GREATER_THAN_OR_EQUAL"
              threshold_unit: "years"
              description: "Age 65+"
              sort_order: 1
            - population_group: "OLDER_ADULTS"
              threshold_type: "MONITORING_WINDOW"
              threshold_value: "12"
              threshold_operator: "GREATER_THAN"
              threshold_unit: "months"
              description: "No pulse check in last year"
              sort_order: 2
