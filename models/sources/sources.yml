version: 2
# Manual sources - these override auto-generation
# If a source is defined here, it will be used instead of auto-generating from metadata
# Sources can be fully manual (not in source_mappings.yml) or override auto-generated sources (in source_mappings.yml)

sources:
- name: aic
  database: '"DATA_LAKE__NCL"'
  schema: '"AIC_DEV"'
  description: AIC pipelines
  tables:
  - name: BASE_ATHENA__CONCEPT
    identifier: '"BASE_ATHENA__CONCEPT"'
    columns:
    - name: CONCEPT_ID
      data_type: NUMBER
    - name: CONCEPT_NAME
      data_type: TEXT
    - name: DOMAIN_ID
      data_type: TEXT
    - name: VOCABULARY_ID
      data_type: TEXT
    - name: CONCEPT_CLASS_ID
      data_type: TEXT
    - name: STANDARD_CONCEPT
      data_type: TEXT
    - name: CONCEPT_CODE
      data_type: TEXT
    - name: VALID_START_DATE
      data_type: DATE
    - name: VALID_END_DATE
      data_type: DATE
    - name: INVALID_REASON
      data_type: TEXT
  - name: BASE_CCMS_DMD_CODES
    identifier: '"BASE_CCMS_DMD_CODES"'
    columns:
    - name: CONDITIONID
      data_type: NUMBER
    - name: CONDITIONNAME
      data_type: TEXT
    - name: PRODUCTID
      data_type: NUMBER
    - name: PRIMARYTERM
      data_type: TEXT
  - name: BASE_CCMS_SNOMED_CODES
    identifier: '"BASE_CCMS_SNOMED_CODES"'
    columns:
    - name: CONDITIONID
      data_type: NUMBER
    - name: CONDITIONNAME
      data_type: TEXT
    - name: CONCEPTID
      data_type: NUMBER
    - name: PRIMARYTERM
      data_type: TEXT
  - name: BASE_GOV__IMD_2019
    identifier: '"BASE_GOV__IMD_2019"'
    columns:
    - name: LSOA_CODE_2011
      data_type: TEXT
    - name: LSOA_NAME_2011
      data_type: TEXT
    - name: LA_CODE_2019
      data_type: TEXT
    - name: LA_NAME_2019
      data_type: TEXT
    - name: IMD_RANK
      data_type: NUMBER
    - name: IMD_DECILE
      data_type: NUMBER
  - name: BASE_GOV__WARD_NAMES
    identifier: '"BASE_GOV__WARD_NAMES"'
    columns:
    - name: WARD_CODE
      data_type: TEXT
    - name: WARD_NAME
      data_type: TEXT
  - name: BASE_NHSBSA__APID_VPID
    identifier: '"BASE_NHSBSA__APID_VPID"'
    columns:
    - name: APID
      data_type: NUMBER
    - name: VPID
      data_type: NUMBER

# Override auto-generated sources with manual table definitions
# These sources ARE in source_mappings.yml but have manual table definitions here

- name: c_ltcs
  database: '"DEV__PUBLISHED_REPORTING__DIRECT_CARE"'
  schema: '"C_LTCS"'
  description: C-LTCS tables
  tables:
  - name: 'MDT_LOOKUP'
    identifier: 'MDT_LOOKUP'
    columns:
    - name: PCN_CODE
      data_type: TEXT
    - name: MDT_DATE
      data_type: DATE
  - name: 'STATUS_LOG'
    identifier: 'STATUS_LOG'
    columns:
    - name: PATIENT_ID
      data_type: NUMBER
    - name: PCN_CODE
      data_type: TEXT
    - name: MDT_DATE
      data_type: DATE
    - name: ACTION
      data_type: TEXT
    - name: ACTION_DATE
      data_type: TIMESTAMP_TZ
    - name: CRITERIA
      data_type: TEXT
  - name: 'OP_OE_RATIO'
    identifier: 'OP_OE_RATIO'
    columns:
    - name: PATIENT_ID
      data_type: NUMBER
    - name: OE_RATIO
      data_type: NUMBER
    - name: PREDICTED
      data_type: NUMBER
    - name: OP_ATT_TOT_12MO
      data_type: NUMBER

